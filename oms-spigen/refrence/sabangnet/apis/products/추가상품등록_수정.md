# 추가상품등록&수정
**분류**: products

## 개요

- 상품관리 > 사방넷추가상품관리 메뉴의 기능을 api로 제공하는 부분입니다.

- 사방넷에서 사용하는 추가상품코드 (G코드) 기준으로 수정이 진행 됩니다.

- 추가상품코드를 미입력시 신규 등록합니다.

- 추가상품조회 기능은 제공하지 않습니다.

- 웹에서 접근 가능한 URL 또는 IP 주소가 존재 해야 합니다.

-

## 사방넷 원본 엔드포인트

```
* 등록접근주소 : https://sbadminXX.sabangnet.co.kr/RTL_API/xml_package_info.html?xml_url=xml주소
```

## RESTful API 변환

**Method**: `POST`

**Path**: `/api/v1/추가상품등록&수정`

**Summary**: 추가상품등록&수정

## 인증 (Authentication)

### 사방넷 XML 헤더

| 필드명 | 설명 | 필수 |
|--------|------|------|
| SEND_COMPAYNY_ID | 사방넷 로그인아이디 | Y |
| SEND_AUTH_KEY | 사방넷에서 발급한 인증키 | Y |

### RESTful HTTP 헤더

```http
Authorization: Bearer {API_KEY}
X-Company-ID: {COMPANY_ID}
Content-Type: application/json
```

## 헤더 필드 (Header Fields)

| 필드명 | 설명 | 필수 | 비고 |
|--------|------|------|------|
| SEND_COMPAYNY_ID | 사방넷 로그인아이디 | Y | 사방넷 어드민 로그인 아이디입력 |
| SEND_AUTH_KEY | 사방넷에서 발급한 인증키 | Y | 사방넷에서 발급 받은 인증키(만약 받지 않았다면 사방넷에서 인증키 발급 요청) |
| SEND_DATE | 전송일자 | Y | YYYYMMDD |

## 데이터 필드 (Data Fields)

| XML 필드명 | JSON 필드명 | 설명 | 필수 | 비고 |
|-----------|-------------|------|------|------|
| PACKAGE_NM | packageNm | 추가상품그룹명 | Y | 추가상품의 그룹명을 입력합니다.HTML 태그 사용은 불가합니다. |
| PACKAGE_CODE | packageCode | 추가상품그룹코드 | Y | 자사에서 사용하는 추가상품코드를 기재합니다. 미입력시 신규 등록되며, 입력시에는 수정됩니다.(ex:G002) |
| PACK_DELIVERY | packDelivery | 배송처 | N | 배송처를 숫자로 입력합니다. 1:자사, 2:타사 |
| SALE_TYPE | saleType | 판매형태 | N | 판매형태를 숫자로 입력합니다. 1:수탁, 2:사입, 3:기타 |
| MALL_ID | mallId | 쇼핑몰CODE | N | 쇼핑몰코드를 입력합니다. shop으로 시작해야 합니다. 사방넷 메뉴 [기본정보-쇼핑몰관리(지원)]에서 확인 가능합니다. 미입력시 전체몰로 적용됩니다. |
| PARTNER_ID | partnerId | 매입처명 | N | 매입처의 ID를 기재합니다.(대/소문자 정확히 구분해야 함) |
| PACKAGE_GUBUN | packageGubun | 그룹구분 | N | G:ESM/11번가 기본옵션용, M:ESM/11번가 기본옵션 + 다른몰추가옵션, 미입력시는 일반추가상품으로 적용됩니다. |
| MEMO | memo | 관리자메모 | N | - |
| PACK_INFO | packInfo | - | N | - |
| P_NAME | pName | 명세명(사이트 선택명칭) | Y | 특수문자 / : , | * < >는 사용불가합니다. 또한 쇼핑몰마다 제한하는 특수문자가 존재하므로 특수문자 이용시 주의바랍니다. |
| P_SALE_COST | pSaleCost | 판매가격 | Y | 입력시 첫글자는 반드시 ( ‘ ) 아포스트로피(ENTER좌측Key)로 시작해야 하며 숫자 사이에 ( , ) 콤마가 들어가면 안됩니다. |
| P_SALE_STATUS | pSaleStatus | 상태 | Y | 추가상품의 상태를 숫자로 입력합니다. 2:판매, 4:품절, 6:미사용 |
| P_PRODUCT_ID | pProductId | 연결할 사방넷상품코드 | Y | 사방넷에 등록된 품번코드와 단품코드를 입력합니다. 품번코드-단품코드 형식, 재고를 사용하는 경우 123456-0001, 재고 관리하지 않을 경우 000000-0000 |

## XML 구조 예제

```xml
<SABANG_PACKAGE_REGI>
  <HEADER>
    <SEND_COMPAYNY_ID>사방넷 로그인아이디</SEND_COMPAYNY_ID>
    <SEND_AUTH_KEY>사방넷에서 발급한 인증키</SEND_AUTH_KEY>
    <SEND_DATE>전송일자</SEND_DATE>
  </HEADER>
  <DATA>
    <ITEM>
      <PACKAGE_NM>값</PACKAGE_NM>
      <PACKAGE_CODE>값</PACKAGE_CODE>
      <PACK_DELIVERY>값</PACK_DELIVERY>
      <SALE_TYPE>값</SALE_TYPE>
      <MALL_ID>값</MALL_ID>
    </ITEM>
  </DATA>
</SABANG_PACKAGE_REGI>
```

## JSON 구조 예제

```json
{
  "packageNm": "값",
  "packageCode": "값",
  "packDelivery": "값",
  "saleType": "값",
  "mallId": "값"
}
```
