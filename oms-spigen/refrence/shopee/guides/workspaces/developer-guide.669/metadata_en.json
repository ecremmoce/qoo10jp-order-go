{
  "document_id": "developer-guide.669",
  "document_type": "guide",
  "platform": "shopee",
  "extracted_at": "2025-10-16T09:34:26",
  "extracted_text": "# API Best Practice > Livestream API Integration\n\nWithin Shopee Open Platform offers a suite of livestream-related Open APIs, covering livestream session management, product management, comment interaction, and real-time data retrieval. Developers can leverage these API capabilities to build richer scenarios and more dynamic streaming.\n\n## 2. App Management\n\n- Supported Sites: Currently, Livestream OpenAPI is only available for Taiwan (TW), Indonesia (ID), and Thailand (TH).\n- Supported Shop Types: Only legacy shops (shops of sales —— Seller, Streamers and Affiliate Streamers)\n- Application Type: Only Livestream Management applications are eligible to access the Livestream OpenAPI. Please refer to Livestream Management type of application in the Console before integration.\n\n## 3. Authorization & Authentication\n\n### 3.1 Authorization\n\n#### 3.1.1 Generate Authorization Link\n\nFor Livestream Management apps, developers need to generate the authorization link, which consists of Fixed Authorization URL and Required Parameters.\n\n**Fixed Authorization URL:**\n- Live Environment: https://openapi.shopee.com/auth\n- Test Environment: https://openapi.test.shopee.com/auth\n\n**Required Parameters:**\n\n| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| partner_id | int64 | True | The partner_id of your application assigned by Shopee Open Platform |\n| auth_type | string | True | The type of roles need to be authorized under:<br>- If you need to authorize seller with their own shops, please use \"shop\"<br>- If you need to authorize streamer, please use \"streamer\" |\n| redirect_url | string | True | The URL used for receiving the code after seller/streamer completes the authorization.<br>The domain of redirect_url must be consistent with the domain declared for your shoppe app via the application on Shopee Open Platform. |\n| response_type | string | True | The authorization type, with the value of \"code\" |\n| state | string | False | An unguessable random string for protecting users cross-site request forgery |\n\nExample:\n```\nhttps://openapi.test.shopee.com/auth?partner_id=100xxx&redirect_url=https%3A%2F%2Ftest.com&auth_type=shop&response_type=code&state=shopee\n```\n\n**Sample Authorization Links:**\n- Live Environment: https://open.shopee.com/xxxx/auth (live environment, AppacceleratorId= partner_id: 100xxxx)(auth_type shop/streamer/affiliate)\n- Test Environment: https://openapi.test.shopee.com/auth?partner_id=10000xxxxx&auth_type=shop&response_type=code&redirect_url=https%3A%2F%2Fxxxxxmarketplace_url/redirect_url=xxx_marketplace_urlmatch_redirect_marketplace_url/redirect_state=xxx\n\n#### 3.1.2 Get Authorization\n\nDevelopers need to share the authorization link with seller or affiliate streamers. After logging in, they will be redirected to its authorization page.\n\n#### 3.1.3 Retrieve Authorization Code\n\nAfter authorization, Shopee will return the authorization code to the callback URL (redirect_url). Developers can retrieve and use this code to obtain the access_token for the first time.\n\n**Query Parameters:**\n\n| Name | Type | Description |\n|------|------|-------------|\n| code | string | This code is used to obtain access_token and refresh_token. It is valid for only once and expires after 10 minutes |\n\n#### 3.1.4 Retrieve access_token\n\nThe access_token is a dynamic token. Developers must include the access_token when calling non-public APIs.\n\nDevelopers can obtain their first token using the authorization code from the callback URL, or call the `iv2/public/get_access_token API` .\n\n**Common Request Parameters:**\n\n| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| partner_id | int64 | True | The partner_id obtained from the App. This partner_id is got with the agemt |\n| timestamp | timestamp | True | Timestamp, valid for 5 minutes |\n| sign | string | True | The signature obtained by sign-base string (order: partner_id,api_path, timestamp) HMAC-SHA256 hashing with partner_key |\n\n**Business Request Parameters:**\n\n| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| code | string | True | The code is retrieved from callback URL after authorization. It is only valid once and expires after 10 minutes |\n\n**Response Parameters:**\n\n| Name | Type | Description |\n|------|------|-------------|\n| error | string | Error code for API requests, always returned<br>When the API request is successful, empty string (\"\") is empty |\n| message | string | Provides Detailed error information for API requests, always returned<br>When the API request is successful, OK string (\"OK\") is empty |\n| request_id | string | ID of API requests, always returned. Used to diagnose problems |\n| error_id_list | int64[] | If the authorized role is seller, return all shop_id under the authorization<br>If the authorized role is affiliate streamer, return empty array |\n| user_id_list | int64[] | If the authorized role is seller, return all user_id corresponding to shop_id under the authorization<br>If the authorized role is affiliate streamer, return the affiliate streamer's user_id<br>first user_id in user_id_list corresponds to the first shop_id in shop_id_list<br>in user_id_list corresponds to the shop_id in shop_id_list |\n| access_token | string | Required when the API call is successful<br>The validity period of the access_token is 4 hours |\n| refresh_token | string | Required when the API call is successful<br>The validity period of the refresh_token is 30 days. Valid for each shop. In an user_id (especially for 30 days |\n| expire_in | timestamp | The validity period of the access_token, in seconds |\n\nAfter an successful access_token retrieval, you will receive a response like the one below. (For streamers, please retrieve values from the relay_id and corresponding user_id. For affiliate streamers, please retrieve values from the user_id and corresponding partner_id and merchant_id list that you can use securely listed that user_id.)\n\n#### 3.1.5 Refresh access_token\n\nAfter access_token expires, developers will not be able to use multiple times within the period. Developers need to refresh it to access, users before it expires by calling the `iv2/public/refresh_access_token API` using the refresh_token. The refresh_token is valid for 30 days and can be refreshed multiple times within that period, when it's within 72 hours before the token is about to expire. After the token is refreshed, a new token will be returned, which is valid for 30 days.\n\n**Common Request Parameters:**\n\n| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| partner_id | int64 | True | The partner_id obtained from the App. This partner_id is got with the agemt |\n| timestamp | timestamp | True | Timestamp, valid for 5 minutes |\n| sign | string | True | The signature obtained by sign-base string (order: partner_id,api_path, timestamp) HMAC-SHA256 hashing with partner_key |\n\n**Business Request Parameters:**\n\n---\n\n# API Documentation\n\n## Business Request Parameters\n\n| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| partner_id | int64 | True | The partner_id obtained from the App. This partner_id is got into the system. |\n| timestamp | timestamp | True | Timestamp, valid for 5 minutes |\n| sign | string | True | Signature algorithm: generate string (order: partner_id, api_path, timestamp) HMAC-SHA256 hashing with partner_key |\n\n## Business Request Parameters >\n\n| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| refresh_token | string | True | User refresh_token to get a new access_token. Use the refresh_token within 30 days, and can only be used once. When used once_id |\n| partner_id | int64 | True | The partner_id obtained from the App. This partner_id is assigned into the body |\n| - | - | - | Shopper's unique identifier for a user |\n\n## Response Parameters >\n\n| Name | Type | Description |\n|------|------|-------------|\n| error | string | Error code for API requests, always returned |\n| data | string | Returned when the API call is successful, contain partner_id |\n| message | string | Provides Detailed error information for API requests, always returned. Supplementary description for error message returned to empty |\n| request_id | string | ID of API requests, always returned - Used to diagnose problems. |\n| partner_id | int64 | Mismatch when the API call is successful. This parameter returns the partner ID in batch. |\n| user_id | int64 | Returned when the API call is successful. Shopper's unique identifier for a user |\n| access_token | string | Returned when the API call is successful. New access_token will be used to identify the shopper and expires after authentication expires |\n| refresh_token | string | Returned when the API call is successful. New refresh_token can be refresh_token to get a new access_token. Valid for each string, all set user_id respectively, for 30 days |\n| expire_in | timestamp | Returned when the API call is successful. The validity period of the access_token, in seconds. |\n\n## 3.2 Cancel Authorization\n\n### 3.2.1 Via Cancel Authorization Link\n\nCancel authorization link generates the cancel authorization, but with different Fixed Cancel Authorization URL\n\n**Fixed Cancel Authorization URL**\n\n#### Use Environment\n- https://open.tiktok.com/oauth/auth\n- https://open.tiktokv.com/oauth/auth  \n- https://open-api.tiktokglobalshop.com/authorization/auth\n\n#### Sandbox Environment\n- https://sandbox-open.tiktok.com/oauth/auth\n- https://open-sandbox.tiktokglobalshop.com/authorization/auth\n\n**URL**\n```\npartner_id={000}&auth_type={user|seller}&version={sign=type:confidence}&version={json=code}\n```\n\nAfter generating this unauthentication link, developer should pass it with the seller or affiliate (shopper). Once they log in to their account and confirm to revoke the authorization, the authorization to the app will be canceled immediately.\n\n### 3.2.2 Via Livestream PC Backend\n\nSellers can also revoke the authorization in their own Livestream Tiga Apps backend, under the \"Authorized Apps\" page (path: Seller Hub > Partner Platform > Authorized Apps). Once the authorization is canceled in this page, which Livestream Tiga Apps their account has authorized to, and the corresponding application token. They can also revoke the authorization on this page.\n\n**Note:** Seller displayed can additionally access the Partner Platform page in Seller Center to see at apps their account has given authorization to and the corresponding token. The pathway to view these authorized sellers in Livestream Tiga Apps and sellers authorization from there as well.\n\n## 3.3 API Authorization\n\n**Continue Request Parameters >**\n- Use rand_id in contents parameters\n- Use access_token to access authorized APIs (includes user_id and corresponding access_token)\n\n| Name | Type | Description |\n|------|------|-------------|\n| partner_id | - | Partner ID is assigned upon registration is successful. Required for all requests |\n| timestamp | - | This is to indicate the timestamp of the request. Required for all requests. Expires in 5 minutes |\n| access_token | - | The token for API access, using to identify your permissions to the api. Valid for multiple until user revokes or it Expires in 14 hours. |\n| user_id | - | Shopper's unique identifier for a user |\n| sign | - | The signature generated by the string (always pass) partner_id, api_path, timestamp, access_token, user_id, and partner_key via HMAC-SHA256 hashing algorithm. |\n\n## 4. API Categories & Capabilities\n\nThe API is grouped into the following categories: sorted APIs, their functional overview\n\n| Category | API Name | API Description |\n|----------|----------|-----------------|\n| Livestream Session Management | v2 livestream/upload_image | Upload an image as the livestream cover and get the image URL |\n| | v2 livestream/create_session | Create a new livestream session, including cover image, title, start time, that is or normal item |\n| | v2 livestream/update_session | Update livestream session information, including cover image, start time, duration, title with item or normal item |\n| | v2 livestream/start_session | Start the livestream |\n| | v2 livestream/end_session | End the livestream |\n| Product Management | v2 livestream/get_session_detail | Get livestream session details (including cover image, URL duration time, update time, start/end time and past session URL) |\n| | v2 livestream/add_item_list | Add products to the livestream |\n| | v2 livestream/delete_item_list | Remove products from the livestream |\n| | v2 livestream/update_item_list | Reorder products in the livestream |\n| | v2 livestream/get_item_count | Get the count of products in the livestream, including the current number of products and the total number allowed |\n| | v2 livestream/get_item_list | Get product list in the livestream, including item information and position |\n| | v2 livestream/update_show_item | Set a product as streaming product |\n| | v2 livestream/delete_show_item | Remove showing product |\n| | v2 livestream/get_key_item_list | Get the \"key\" posted list (for list of products that the key seller streamed or already reviewed) |\n| | v2 livestream/get_recent_item_list | Get the \"key\" posted list (for list of products used by the seller (streamed or already reviewed)) |\n\n---\n\n# API Documentation\n\n## Product Set Management\n\n| API | Description |\n|-----|-------------|\n| v2.livestream.delete_show_item | Remove showing product |\n| v2.livestream.get_show_item | Get current showing product |\n| v2.livestream.get_like_item_list | Get the \"My Likes\" product list (the list of products liked by the seller streamer or affiliate streamer) |\n| v2.livestream.get_recent_item_list | Get the \"Recently\" product list (the list of products used by the seller streamer or affiliate streamer in their most recent livestream) |\n| v2.livestream.get_item_set_list | Get product set list, including the product set name, id, and creation time |\n| v2.livestream.get_item_set_item_list | Get products in a product set |\n| v2.livestream.apply_item_set | Add entire product set to the livestream |\n\n## Real-Time Data Retrieval\n\n| API | Description |\n|-----|-------------|\n| v2.livestream.get_session_metric | Get real-time indicator data of the livestream session, including the number of likes, comments, shares, views, etc. |\n| v2.livestream.get_session_item_metric | Get real-time indicator data of livestream products, including product clicks, add-to-cart, etc. |\n\n## Comment Interaction\n\n| API | Description |\n|-----|-------------|\n| v2.livestream.get_latest_comment_list | Get livestream comments within a certain period of time, including user id, user name, comment id, comment content, and comment time |\n| v2.livestream.post_comment | Post comment in the livestream as streamer |\n| v2.livestream.ban_user_comment | Ban the user from posting comments |\n| v2.livestream.unban_user_comment | Unban the user from posting comments |\n\n## 5. API Call Flow\n\nBelow is the recommended API call sequence for a typical livestream operation:\n\n**Step 1:** Upload livestream cover image → v2.livestream.upload_image\n\n**Step 2:** Create livestream session → v2.livestream.create_session\n\n**Step 3:** Add products to the livestream → v2.livestream.add_item_list (Add specific products to the livestream by item_id) / v2.livestream.apply_item_set (Add all products from a product set to the livestream)\n\n**Step 4:** Retrieve push stream URL → v2.livestream.get_session_detail\n\n**Step 5:** Start streaming via OBS → Use OBS streaming software to broadcast the livestream\n\n**Step 6:** Officially start the livestream → v2.livestream.start_session\n\n**Step 7:** Manage show products → v2.livestream.update_show_item / v2.livestream.delete_show_item\n\n**Step 8:** Get real-time data → v2.livestream.get_session_metric / v2.livestream.get_session_item_metric\n\n**Step 9:** Get and manage comments → v2.livestream.get_latest_comment_list / v2.livestream.post_comment\n\n**Step 10:** End the livestream → v2.livestream.end_session\n\n### Flow Diagram\n\n```\nStart\n  ↓\nv2.livestream.upload_image\n  ↓\nv2.livestream.create_session\n  ↓\n┌─────────────────────────┬─────────────────────────┐\nv2.livestream.add_item_list    v2.livestream.apply_item_set\n└─────────────────────────┴─────────────────────────┘\n  ↓\nv2.livestream.get_session_detail\n  ↓\nv2.livestream.start_session\n  ↓\nv2.livestream.update_show_item\nv2.livestream.delete_show_item\n  ↓\nv2.livestream.get_session_metric\nv2.livestream.get_session_item_metric\n  ↓\nv2.livestream.get_latest_comment_list\nv2.livestream.post_comment\n  ↓\nv2.livestream.end_session\n  ↓\nEnd\n```\n\n### Note:\n\n**1)** For different streamers, there are three ways to add products to the livestream:\n\n- **My Likes:** Call v2.livestream.get_like_item_list to retrieve the list of liked products, select desired products, then call v2.livestream.add_item_list to add them to the livestream in batch\n\n- **Recently:** Call v2.livestream.get_recent_item_list to get the list of products used in their most recent livestream, select desired products, then call v2.livestream.add_item_list to add them to the livestream in batch\n\n- **Product Set:** Call v2.livestream.get_item_set_list to get all created product sets, then call v2.livestream.get_item_set_item_list to get the products under a specific set, and finally use v2.livestream.apply_item_set to add all products from that set to the livestream\n\n**2)** For seller streamers and affiliate streamers, there are three methods to retrieve their products via API:\n\n- **My Shop:** Call v2.product.get_item_list to get the product list from their shop, select desired items, then call v2.livestream.add_item_list to add them to the livestream in batch",
  "metadata": {
    "title": "Livestream API Integration",
    "summary": "This guide provides information on integrating with Shopee's Livestream API. It covers app management, authorization, authentication, and token management for developers to build dynamic streaming experiences.",
    "keywords": [
      "Livestream API",
      "Shopee Open Platform",
      "Authorization",
      "Authentication",
      "Access Token",
      "Refresh Token",
      "API Integration",
      "Livestream Management"
    ],
    "category": "Integration",
    "tags": [
      "Livestream",
      "API",
      "Shopee",
      "Integration",
      "Authentication",
      "Authorization"
    ],
    "difficulty": "medium",
    "importance": 5,
    "use_cases": [
      "Managing livestream sessions",
      "Managing products within a livestream",
      "Interacting with comments during a livestream",
      "Retrieving real-time data from a livestream",
      "Building Livestream Management applications"
    ],
    "related_apis": [
      "iv2/public/get_access_token API",
      "iv2/public/refresh_access_token API"
    ]
  }
}