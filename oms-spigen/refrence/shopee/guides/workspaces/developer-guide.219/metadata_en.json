{
  "document_id": "developer-guide.219",
  "document_type": "guide",
  "platform": "shopee",
  "extracted_at": "2025-10-16T08:45:00",
  "extracted_text": "# Variant Management\n\n## API Best Practice - Variant management\n\nTo view guidance about the structure of the product tree and variant structure in this article, please visit the [Catalog API Best Practices](link).\n\nTo manage the stock and price of a variation, please refer to the [Stock and Price Management](link) article.\n\n---\n\n## 1. Adding variants with same tier structure\n\nVariants in the product tree already defined upon initialization (with tier_index and colors), when you need to add back for the variant situation:\n\n### Original Variant structure:\n\n| var_name | option | model_id |\n|----------|--------|----------|\n| var_sku[0][0] | red | 10000 |\n| var_sku[0][1] (to be added) | black (to be added) | - |\n| var_sku[1][0] | blue | 20000 |\n\n**Call the** `v2_product_update_tier_variation` **API to add a blank option first**\n\n**Request example:**\n\n```json\n{\n  \"tier_id\": [REDACTED],\n  \"tier_variation\": [\n    {\n      \"name\": \"color\",\n      \"option_list\": [\n        {\n          \"option\": \"red\"\n        },\n        {\n          \"option\": \"black\"\n        },\n        {\n          \"option\": \"blue\"\n        }\n      ]\n    },\n    {\n      \"model_list\": [\n        {\n          \"tier_index\": [0],\n          \"model_sku\": \"MAIN\"\n        }\n      ]\n    },\n    {\n      \"tier_index\": [1],\n      \"model_sku\": \"MAIN\"\n    }\n  ]\n}\n```\n\n---\n\n**Call the** `v2_product_init_tier_variation` **API to add price, stock, SKU information for the blank variant**\n\n**Request example:**\n\n```json\n{\n  \"tier_id\": [REDACTED],\n  \"model_list\": [\n    {\n      \"tier_index\": [0],\n      \"original_price\": 20,\n      \"option_list\": [\n        {\n          \"option\": \"red\"\n        },\n        {\n          \"option\": \"black\"\n        }\n      ],\n      \"normal_stock\": 100,\n      \"model_sku\": \"red_blacka\"\n    },\n    {\n      \"price\": 300\n    }\n  ]\n}\n```\n\n---\n\n## 2. Adding variants that change tier structure\n\nWhen the product tree structure needs to be changed (the variant tier becomes 2-tier or other situations, you would need to add tier specifications, the steps include 1 and 2).\n\n### Original Variant structure:\n\n| var_name | option | model_id |\n|----------|--------|----------|\n| var_sku[0][0] | red | 10000 |\n| var_sku[0][1] | blue | 20000 |\n\n### Variant situation that change after:\n\n| var_name | option | model_id |\n|----------|--------|----------|\n| var_sku[0][0] | red L | - |\n| var_sku[0][1] | red XL | - |\n| var_sku[1][0] | blue L | - |\n| var_sku[1][1] | blue XL | - |\n\n**Because the tier structure has been changed, the original model information will be removed after calling API, which will replace the original model at `10000` and model at `20000` will be invalid**\n\n**API:** `v2_product_init_tier_variation`\n\n**Request example:**\n\n```json\n{\n  \"tier_id\": [REDACTED],\n  \"tier_variation\": [\n    {\n      \"option_list\": [\n        {\n          \"option\": \"red\"\n        }\n      ]\n    },\n    {\n      \"option\": \"L\"\n    },\n    {\n      \"option\": \"XL\"\n    },\n    {\n      \"name\": \"Color\"\n    },\n    {\n      \"name\": \"Size\"\n    },\n    {\n      \"option_list\": [\n        {\n          \"option\": \"blue\"\n        }\n      ]\n    },\n    {\n      \"option\": \"L\"\n    }\n  ]\n}\n```\n\n---\n\n# Deleting Variants with Same Tier Structure\n\n**Situation 1**: The product has defined color specifications (with colors red, blue, and black) and has the blue color model to be deleted.\n\n## Original Variant Situation\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | red | 10000 |\n| tier_index[1] (% to be deleted) | blue (% to be deleted) | 20000 |\n| tier_index[2] | black | 30000 |\n\n**Variants situation:**\n\nWe need to delete the blue color, the tier_index can only be tier_index[0], tier_index[1] after deletion, so we need to convert the information of the variant tier_index[2] into the information of the black variant.\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | red | 10000 |\n| tier_index[1] | black | 30000 |\n\n## API\n\nCall `product.update_tier_variation` to remove option and override the model information at the same time (equipped linkage)\n\n```json\n{\n  \"tier_variation\": [\n    {\n      \"name\": \"color\",\n      \"option_list\": [\n        {\n          \"option\": \"red\"\n        },\n        {\n          \"option\": \"black\"\n        }\n      ]\n    }\n  ],\n  \"model_list\": [\n    {\n      \"tier_index\": [0],\n      \"model_id\": 10000\n    },\n    {\n      \"tier_index\": [1],\n      \"model_id\": 30000\n    }\n  ]\n}\n```\n\n---\n\n# Situation 2\n\nThe product has defined color and size specifications, color is red, blue, and red, and all the blue variants need to be deleted.\n\n## Original variant situation\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | red 5L | 10000 |\n| tier_index[1] | blue 5L (% to be deleted) | 20000 |\n| tier_index[2] (% to be deleted) | black 5L | 30000 |\n\n---\n\n# Deleting Variants that Change Tier Structure\n\n## Original Variant Situation\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | null | 10000 |\n| tier_index[1] | not XL | 25000 |\n| tier_index[2] [5] (to be deleted) | blue-L (5) (to be deleted) | 30000 |\n| tier_index[3] [1] (to be deleted) | blue-XL [2] (to be deleted) | 40000 |\n\n**API:** `id-product-variant_http_product()` is deleted both option and model information at the same time.\n\n**Request Example:**\n\n```json\n{\n  \"img_id\": \"[12345678]\",\n  \n  \"tier_var\":[\n    {\n      \"name\": \"color\",\n      \"opt\":[\n        {\n          \"option\": \"red\"\n        }\n      ]\n    },\n    {\n      \"name\": \"size\",\n      \"opt\":[\n        {\n          \"option\": \"L\"\n        },\n        {\n          \"option\": \"XL\"\n        }\n      ]\n    }\n  ],\n  \n  \"model_list\": [\n    {\n      \"tier_index\": [0,0],\n      \"model_id\": 10000\n    },\n    {\n      \"tier_index\": [0,1],\n      \"model_id\": 25000\n    }\n  ]\n}\n```\n\n---\n\n## Variants Situation After Deletion\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | null | 10000 |\n| tier_index[1] | not XL | 25000 |\n| tier_index[2] | - | - |\n| tier_index[3] | - | - |\n\n---\n\n## 4. Deleting Variants that Change Tier Structure\n\n**Scenario 3:** The product has defined color and size specifications, color is red, blue, XL, and red and calory need to be deleted.\n\n### Original Variant Situation\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | null | 10000 |\n| tier_index[1] | not XL | 25000 |\n| tier_index[2] | blue-L | 30000 |\n| tier_index[3] | blue XL | 40000 |\n\n### Variant Situation After Deletion\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | - | - |\n| tier_index[1] | - | - |\n\n**API:** `id-product-variant_http_update()`\n\n**Request Example:**\n\n```json\n{\n  \"img_id\": \"[12345678]\",\n  \n  \"tier_var\":[\n    {\n      \"opt\":[\n        {\n          \"option\": \"L\"\n        },\n        {\n          \"option\": \"XL\"\n        }\n      ],\n      \"name\": \"size\"\n    },\n    {\n      \"name\": [\n        {\n          \"id-productpg\": [0],\n          \"model_id\": \"bnpL1\",\n          \"original_price\": 100,\n          \"tier_index\": [0]\n        },\n        {\n          \"id-productpg\": [0],\n          \"model_id\": \"bnpL1\",\n          \"original_price\": 100,\n          \"tier_index\": [1]\n        }\n      ]\n    }\n  ]\n}\n```\n\n---\n\n# Changing the order of variants\n\n## Scenario\nIf the item has defined color specification with colors red and blue, then the color order needs to be changed to blue, red, then the original variant information (ordered).\n\n## Original variant situation\n\n| var_active | option | model_id |\n|------------|--------|----------|\n| var_active(1) | red | 10000 |\n| var_active(2) | blue | 20000 |\n\n## Variant situation after change:\n\n| var_active | option | model_id |\n|------------|--------|----------|\n| var_active | option | model_id |\n| var_active(2) | blue | 20000 |\n| var_active(1) | red | 10000 |\n\n## API\n\n**id.product.update_list_variation**\n\nRequest example:\n\n```json\n{\n  \"link_id\": \"RRDDCCFFVV\",\n  \"list_variants\": [\n    {\n      \"name\": \"Color\",\n      \"options_list\": [\n        {\n          \"variant\": \"red A\"\n        },\n        {\n          \"variant\": \"Blue\"\n        }\n      ]\n    }\n  ],\n  \"model_list\": [\n    {\n      \"tier_index\": [0],\n      \"model_id\": 20000\n    },\n    {\n      \"tier_index\": [1],\n      \"model_id\": 10000\n    }\n  ]\n}\n```\n\n---\n\n# Changing the option name of the variant\n\n## Scenario\nIf the item has defined a color specification with the colors red and blue. Now the color name needs to be changed to red A, blue.\n\n## Original variant situation\n\n| var_active | option | model_id |\n|------------|--------|----------|\n| var_active | option | model_id |\n| var_active(1) | red | 10000 |\n| var_active(2) | Blue | 20000 |\n\n## Variant situation after change:\n\n| var_active | option | model_id |\n|------------|--------|----------|\n| var_active | option | model_id |\n| var_active(2) | red A | 10000 |\n| var_active(1) | Blue | 20000 |\n\n## API\n\n**id.product.update_list_variation**\n\nRequest example:\n\n```json\n{\n  \"link_id\": \"RRDDCCFFVV\",\n  \"list_variants\": [\n    {\n      \"name\": \"Color\",\n      \"options_list\": [\n        {\n          \"variant\": \"red A\"\n        },\n        {\n          \"variant\": \"Blue\"\n        }\n      ]\n    }\n  ],\n  \"model_list\": [\n    {\n      \"tier_index\": [0],\n      \"model_id\": 10000\n    },\n    {\n      \"tier_index\": [1],\n      \"model_id\": 20000\n    }\n  ]\n}\n```\n\n---\n\n# API Documentation\n\n## JSON Structure\n\n```json\n{\n  \"tier_index\": [1],\n  \"model_id\": 20000\n}\n]\n}\n```\n\n## Summary\n\n1. The function of **v2.product.init_tier_variation** API, including changing 0-tier variation to 1-tier variation / 0-tier variation to 2-tier variation / 1-tier variation to 2-tier variation / 2-tier variation to 1-tier variation.\n\n2. The function of **v2.product.update_tier_variation** API, including add/delete/update the options, If you still need to keep the original variants information, please use the model_list field.\n\n3. The function of **v2.product.add_model** API is adding the new model information, the function of **v2.product.delete_model** API is deleting the variant information.\n\n4. Sellers who have upgraded CNSC and KRSC can only add/delete variants through global products, so please use the global product API for management, otherwise an error will be reported.\n\n## API Reference\n\n| Global Product API | Product API |\n|-------------------|-------------|\n| v2.global_product.init_tier_variation | v2.product.init_tier_variation |\n| v2.global_product.update_tier_variation | v2.product.update_tier_variation |\n| v2.global_product.add_global_model | v2.product.add_model |\n| v2.global_product.delete_global_model | v2.product.delete_model |",
  "metadata": {
    "title": "Variant Management",
    "summary": "This guide provides instructions on how to manage product variants, including adding, deleting, and reordering them. It covers scenarios where the tier structure remains the same and when it changes, providing API request examples for each case.",
    "keywords": [
      "variant management",
      "product variants",
      "tier structure",
      "API",
      "v2_product_update_tier_variation",
      "v2_product_init_tier_variation",
      "product.update_tier_variation",
      "id.product.update_list_variation"
    ],
    "category": "Best Practices",
    "tags": [
      "product catalog",
      "API",
      "variants",
      "stock management",
      "price management"
    ],
    "difficulty": "medium",
    "importance": 4,
    "use_cases": [
      "Adding new product variants to an existing product.",
      "Deleting specific product variants that are no longer offered.",
      "Changing the tier structure of product variants.",
      "Reordering the display of product variants.",
      "Updating product information after variant changes."
    ],
    "related_apis": [
      "v2_product_update_tier_variation",
      "v2_product_init_tier_variation",
      "product.update_tier_variation",
      "id-product-variant_http_product()",
      "id-product-variant_http_update()",
      "id.product.update_list_variation"
    ]
  }
}