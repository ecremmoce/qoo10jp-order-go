{
  "document_id": "developer-guide.219",
  "document_type": "guide",
  "platform": "shopee",
  "content_ko": "# 베리에이션 관리\n\n## API 모범 사례 - 베리에이션 관리\n\n제품 트리 및 베리에이션 구조에 대한 지침은 [Catalog API 모범 사례](link)를 참조하십시오.\n\n베리에이션의 재고 및 가격 관리는 [재고 및 가격 관리](link) 문서를 참조하십시오.\n\n---\n\n## 1. 동일한 티어 구조로 베리에이션 추가\n\n초기화 시 이미 정의된 제품 트리(tier_index 및 colors 포함)에서 베리에이션 상황에 따라 다시 추가해야 하는 경우:\n\n### 기존 베리에이션 구조:\n\n| var_name | option | model_id |\n|----------|--------|----------|\n| var_sku[0][0] | red | 10000 |\n| var_sku[0][1] (추가 예정) | black (추가 예정) | - |\n| var_sku[1][0] | blue | 20000 |\n\n**`v2_product_update_tier_variation` API를 호출하여 먼저 빈 옵션을 추가하십시오.**\n\n**요청 예시:**\n\n```json\n{\n  \"tier_id\": [REDACTED],\n  \"tier_variation\": [\n    {\n      \"name\": \"color\",\n      \"option_list\": [\n        {\n          \"option\": \"red\"\n        },\n        {\n          \"option\": \"black\"\n        },\n        {\n          \"option\": \"blue\"\n        }\n      ]\n    },\n    {\n      \"model_list\": [\n        {\n          \"tier_index\": [0],\n          \"model_sku\": \"MAIN\"\n        }\n      ]\n    },\n    {\n      \"tier_index\": [1],\n      \"model_sku\": \"MAIN\"\n    }\n  ]\n}\n```\n\n---\n\n**`v2_product_init_tier_variation` API를 호출하여 빈 베리에이션에 대한 가격, 재고, SKU 정보를 추가하십시오.**\n\n**요청 예시:**\n\n```json\n{\n  \"tier_id\": [REDACTED],\n  \"model_list\": [\n    {\n      \"tier_index\": [0],\n      \"original_price\": 20,\n      \"option_list\": [\n        {\n          \"option\": \"red\"\n        },\n        {\n          \"option\": \"black\"\n        }\n      ],\n      \"normal_stock\": 100,\n      \"model_sku\": \"red_blacka\"\n    },\n    {\n      \"price\": 300\n    }\n  ]\n}\n```\n\n---\n\n## 2. 티어 구조를 변경하는 베리에이션 추가\n\n제품 트리 구조를 변경해야 하는 경우(베리에이션 티어가 2티어가 되거나 다른 상황), 티어 사양을 추가해야 합니다. 단계는 1과 2를 포함합니다.\n\n### 기존 베리에이션 구조:\n\n| var_name | option | model_id |\n|----------|--------|----------|\n| var_sku[0][0] | red | 10000 |\n| var_sku[0][1] | blue | 20000 |\n\n### 변경 후 베리에이션 상황:\n\n| var_name | option | model_id |\n|----------|--------|----------|\n| var_sku[0][0] | red L | - |\n| var_sku[0][1] | red XL | - |\n| var_sku[1][0] | blue L | - |\n| var_sku[1][1] | blue XL | - |\n\n**티어 구조가 변경되었으므로 API를 호출한 후 기존 모델 정보가 제거되며, `10000`의 기존 모델이 대체되고 `20000`의 모델은 유효하지 않게 됩니다.**\n\n**API:** `v2_product_init_tier_variation`\n\n**요청 예시:**\n\n```json\n{\n  \"tier_id\": [REDACTED],\n  \"tier_variation\": [\n    {\n      \"option_list\": [\n        {\n          \"option\": \"red\"\n        }\n      ]\n    },\n    {\n      \"option\": \"L\"\n    },\n    {\n      \"option\": \"XL\"\n    },\n    {\n      \"name\": \"Color\"\n    },\n    {\n      \"name\": \"Size\"\n    },\n    {\n      \"option_list\": [\n        {\n          \"option\": \"blue\"\n        }\n      ]\n    },\n    {\n      \"option\": \"L\"\n    }\n  ]\n}\n```\n\n---\n\n# 동일한 티어 구조로 베리에이션 삭제\n\n**상황 1**: 제품에 색상 사양(빨강, 파랑, 검정 색상 포함)이 정의되어 있고 파란색 모델을 삭제해야 합니다.\n\n## 기존 베리에이션 상황\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | red | 10000 |\n| tier_index[1] (% 삭제 예정) | blue (% 삭제 예정) | 20000 |\n| tier_index[2] | black | 30000 |\n\n**베리에이션 상황:**\n\n파란색을 삭제해야 합니다. 삭제 후 tier_index는 tier_index[0], tier_index[1]만 가능하므로 베리에이션 tier_index[2]의 정보를 검정색 베리에이션의 정보로 변환해야 합니다.\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | red | 10000 |\n| tier_index[1] | black | 30000 |\n\n## API\n\n`product.update_tier_variation`을 호출하여 옵션을 제거하고 모델 정보를 동시에 덮어씁니다(연결 장착).\n\n```json\n{\n  \"tier_variation\": [\n    {\n      \"name\": \"color\",\n      \"option_list\": [\n        {\n          \"option\": \"red\"\n        },\n        {\n          \"option\": \"black\"\n        }\n      ]\n    }\n  ],\n  \"model_list\": [\n    {\n      \"tier_index\": [0],\n      \"model_id\": 10000\n    },\n    {\n      \"tier_index\": [1],\n      \"model_id\": 30000\n    }\n  ]\n}\n```\n\n---\n\n# 상황 2\n\n제품에 색상 및 크기 사양이 정의되어 있고, 색상은 빨강, 파랑, 빨강이며, 모든 파란색 베리에이션을 삭제해야 합니다.\n\n## 기존 베리에이션 상황\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | red 5L | 10000 |\n| tier_index[1] | blue 5L (% 삭제 예정) | 20000 |\n| tier_index[2] (% 삭제 예정) | black 5L | 30000 |\n\n---\n\n# 티어 구조를 변경하는 베리에이션 삭제\n\n## 기존 베리에이션 상황\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | null | 10000 |\n| tier_index[1] | not XL | 25000 |\n| tier_index[2] [5] (삭제 예정) | blue-L (5) (삭제 예정) | 30000 |\n| tier_index[3] [1] (삭제 예정) | blue-XL [2] (삭제 예정) | 40000 |\n\n**API:** `id-product-variant_http_product()`은 옵션과 모델 정보를 동시에 삭제합니다.\n\n**요청 예시:**\n\n```json\n{\n  \"img_id\": \"[12345678]\",\n  \n  \"tier_var\":[\n    {\n      \"name\": \"color\",\n      \"opt\":[\n        {\n          \"option\": \"red\"\n        }\n      ]\n    },\n    {\n      \"name\": \"size\",\n      \"opt\":[\n        {\n          \"option\": \"L\"\n        },\n        {\n          \"option\": \"XL\"\n        }\n      ]\n    }\n  ],\n  \n  \"model_list\": [\n    {\n      \"tier_index\": [0,0],\n      \"model_id\": 10000\n    },\n    {\n      \"tier_index\": [0,1],\n      \"model_id\": 25000\n    }\n  ]\n}\n```\n\n---\n\n## 삭제 후 베리에이션 상황\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | null | 10000 |\n| tier_index[1] | not XL | 25000 |\n| tier_index[2] | - | - |\n| tier_index[3] | - | - |\n\n---\n\n## 4. 티어 구조를 변경하는 베리에이션 삭제\n\n**시나리오 3:** 제품에 색상 및 크기 사양이 정의되어 있고, 색상은 빨강, 파랑, XL이며, 빨강 및 칼로리를 삭제해야 합니다.\n\n### 기존 베리에이션 상황\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | null | 10000 |\n| tier_index[1] | not XL | 25000 |\n| tier_index[2] | blue-L | 30000 |\n| tier_index[3] | blue XL | 40000 |\n\n### 삭제 후 베리에이션 상황\n\n| tier_index | option | model_id |\n|------------|--------|----------|\n| tier_index[0] | - | - |\n| tier_index[1] | - | - |\n\n**API:** `id-product-variant_http_update()`\n\n**요청 예시:**\n\n```json\n{\n  \"img_id\": \"[12345678]\",\n  \n  \"tier_var\":[\n    {\n      \"opt\":[\n        {\n          \"option\": \"L\"\n        },\n        {\n          \"option\": \"XL\"\n        }\n      ],\n      \"name\": \"size\"\n    },\n    {\n      \"name\": [\n        {\n          \"id-productpg\": [0],\n          \"model_id\": \"bnpL1\",\n          \"original_price\": 100,\n          \"tier_index\": [0]\n        },\n        {\n          \"id-productpg\": [0],\n          \"model_id\": \"bnpL1\",\n          \"original_price\": 100,\n          \"tier_index\": [1]\n        }\n      ]\n    }\n  ]\n}\n```\n\n---\n\n# 베리에이션 순서 변경\n\n## 시나리오\n항목에 빨강 및 파랑 색상의 색상 사양이 정의되어 있는 경우 색상 순서를 파랑, 빨강으로 변경해야 합니다.\n\n## 기존 베리에이션 상황\n\n| var_active | option | model_id |\n|------------|--------|----------|\n| var_active(1) | red | 10000 |\n| var_active(2) | blue | 20000 |\n\n## 변경 후 베리에이션 상황:\n\n| var_active | option | model_id |\n|------------|--------|----------|\n| var_active | option | model_id |\n| var_active(2) | blue | 20000 |\n| var_active(1) | red | 10000 |\n\n## API\n\n**id.product.update_list_variation**\n\n요청 예시:\n\n```json\n{\n  \"link_id\": \"RRDDCCFFVV\",\n  \"list_variants\": [\n    {\n      \"name\": \"Color\",\n      \"options_list\": [\n        {\n          \"variant\": \"red A\"\n        },\n        {\n          \"variant\": \"Blue\"\n        }\n      ]\n    }\n  ],\n  \"model_list\": [\n    {\n      \"tier_index\": [0],\n      \"model_id\": 20000\n    },\n    {\n      \"tier_index\": [1],\n      \"model_id\": 10000\n    }\n  ]\n}\n```\n\n---\n\n# 베리에이션 옵션 이름 변경\n\n## 시나리오\n항목에 빨강 및 파랑 색상의 색상 사양이 정의되어 있는 경우 색상 이름을 빨강 A, 파랑으로 변경해야 합니다.\n\n## 기존 베리에이션 상황\n\n| var_active | option | model_id |\n|------------|--------|----------|\n| var_active | option | model_id |\n| var_active(1) | red | 10000 |\n| var_active(2) | Blue | 20000 |\n\n## 변경 후 베리에이션 상황:\n\n| var_active | option | model_id |\n|------------|--------|----------|\n| var_active | option | model_id |\n| var_active(2) | red A | 10000 |\n| var_active(1) | Blue | 20000 |\n\n## API\n\n**id.product.update_list_variation**\n\n요청 예시:\n\n```json\n{\n  \"link_id\": \"RRDDCCFFVV\",\n  \"list_variants\": [\n    {\n      \"name\": \"Color\",\n      \"options_list\": [\n        {\n          \"variant\": \"red A\"\n        },\n        {\n          \"variant\": \"Blue\"\n        }\n      ]\n    }\n  ],\n  \"model_list\": [\n    {\n      \"tier_index\": [0],\n      \"model_id\": 10000\n    },\n    {\n      \"tier_index\": [1],\n      \"model_id\": 20000\n    }\n  ]\n}\n```\n\n---\n\n# API 문서\n\n## JSON 구조\n\n```json\n{\n  \"tier_index\": [1],\n  \"model_id\": 20000\n}\n]\n}\n```\n\n## 요약\n\n1. **v2.product.init_tier_variation** API의 기능은 0티어 베리에이션을 1티어 베리에이션으로 변경/0티어 베리에이션을 2티어 베리에이션으로 변경/1티어 베리에이션을 2티어 베리에이션으로 변경/2티어 베리에이션을 1티어 베리에이션으로 변경하는 것을 포함합니다.\n\n2. **v2.product.update_tier_variation** API의 기능은 옵션 추가/삭제/업데이트를 포함합니다. 기존 베리에이션 정보를 유지해야 하는 경우 model_list 필드를 사용하십시오.\n\n3. **v2.product.add_model** API의 기능은 새 모델 정보를 추가하는 것이고, **v2.product.delete_model** API의 기능은 베리에이션 정보를 삭제하는 것입니다.\n\n4. CNSC 및 KRSC를 업그레이드한 판매자는 글로벌 제품을 통해서만 베리에이션을 추가/삭제할 수 있으므로 글로벌 제품 API를 사용하여 관리하십시오. 그렇지 않으면 오류가 보고됩니다.\n\n## API 참조\n\n| Global Product API | Product API |\n|-------------------|-------------|\n| v2.global_product.init_tier_variation | v2.product.init_tier_variation |\n| v2.global_product.update_tier_variation | v2.product.update_tier_variation |\n| v2.global_product.add_global_model | v2.product.add_model |\n| v2.global_product.delete_global_model | v2.product.delete_model |",
  "translated_at": "2025-10-16T08:45:21",
  "char_count": 8658,
  "metadata_ko": {
    "title": "배리언트 관리",
    "summary": "이 가이드는 제품 배리언트 추가, 삭제 및 재정렬을 포함하여 제품 배리언트를 관리하는 방법에 대한 지침을 제공합니다. 티어 구조가 동일하게 유지되는 경우와 변경되는 경우를 다루며, 각 경우에 대한 API 요청 예제를 제공합니다.",
    "keywords": [
      "배리언트 관리",
      "제품 배리언트",
      "티어 구조",
      "API",
      "v2_product_update_tier_variation",
      "v2_product_init_tier_variation",
      "product.update_tier_variation",
      "id.product.update_list_variation"
    ],
    "category": "모범 사례",
    "tags": [
      "제품 카탈로그",
      "API",
      "배리언트",
      "재고 관리",
      "가격 관리"
    ],
    "difficulty": "중간",
    "importance": 4,
    "use_cases": [
      "기존 제품에 새로운 제품 배리언트 추가.",
      "더 이상 제공되지 않는 특정 제품 배리언트 삭제.",
      "제품 배리언트의 티어 구조 변경.",
      "제품 배리언트의 표시 순서 재정렬.",
      "배리언트 변경 후 제품 정보 업데이트."
    ],
    "related_apis": [
      "v2_product_update_tier_variation",
      "v2_product_init_tier_variation",
      "product.update_tier_variation",
      "id-product-variant_http_product()",
      "id-product-variant_http_update()",
      "id.product.update_list_variation"
    ]
  },
  "metadata_translated_at": "2025-10-16T08:45:24"
}